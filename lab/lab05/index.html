<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content ="CS88: Computational Structures in Data Science " />
    <meta name="keywords" content ="CS88, Computer Science, Data Science, Programming, Berkeley, EECS" />
    <meta name="author" content ="Gerald Friedland, Meghna Dasgupta, Jessica Gao, Andrew Tan, Jobel Vecino" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <script src="//cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/style.css">
    <link rel="icon" href="/assets/images/favicon.ico">

    <link rel="stylesheet" href="/assets/css/mono-blue.css">
    <script src="/assets/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <link rel="stylesheet" type="text/css" href="/assets/css/resource.css" />
<link rel="stylesheet" type="text/css" href="/assets/css/lab.css" />


    <title>Lab 5: Sequences and Generators | CS 88 Spring 2018</title>

  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">CS 88</a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/">Calendar</a></li>
            <li><a href="/articles/resources.html">Resources</a></li>
            <li><a href="/weekly-schedule.html">Weekly Schedule</a></li>
            <li><a href="/articles/about.html">Course Information</a></li>
            <li><a href="/staff.html">Staff</a></li>
            <!--- <li><a href="/tutoring.html">Tutoring</a></li> -->

            <!-- <li><a href="/articles/using-ok.html">Using OK</a></li> -->
<!--             <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Course Info <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="/articles/about.html">Syllabus</a></li>
                <li><a href="/staff.html">Staff</a></li>
                <li><a href="/weekly.html">Weekly Schedule</a></li>
                <li><a href="/extra.html">Extra Lectures</a></li>
              </ul>
            </li> -->

          </ul>
        </div>
      </div>
    </nav>

    <div id="content" class="container">
      <div class='row'>
  <div class='col-md-9'>
    <div class='page-header'>
      <h1><span class="content-title-brand">Lab 5</span>: Sequences and Generators</h1>
    </div>

    <p><i>Due at 11:59pm on 3/18/2018.</i></p>

<h2 id='starter-files'>Starter Files</h2>

<p>Download <a href="lab05.zip">lab05.zip</a>.
Inside the archive, you will find starter files for the questions in this lab,
  along with a copy of the OK autograder.</p>

<h2 id='submission'>Submission</h2>

<p>By the end of this lab, you should have submitted the lab using <code>ok</code>. You may submit more than once before the
deadline; only the final submission will be graded.</p>





    


<h2 id="exceptions">Exceptions</h2>


<p>Exceptions allow us to try a chunk of code, and then catch any errors
that might come up. If we do catch an exception, we can run an
alternative set of instructions. This construct is very useful in many
situations.</p>

<pre><code>try:
    &lt;try suite&gt;
except Exception as e:
    &lt;except suite&gt;
else:
    &lt;else suite&gt;
finally:
    &lt;finally suite&gt;</code></pre>

<p>Notice that we can catch the exception as e. This assigns the name e to
the exception object.  This can be helpful when we want to give extra
information on what happened. For example, we can <code>print(e)</code> inside the
except clause.</p>

<p>Also, we have an optional else case. The else suite is executed if the
<code>try</code> suite finishes without any exceptions.</p>

<p>We also have an optional finally clause, which is always executed,
whether or not an exception is thrown. We generally don't need to use
the else and finally controls in this class.</p>

<p>When we write exception statements, we generally don't just use the
word Exception as above. Rather, we figure out the specific type of
exception that we want to handle, such as TypeError or
ZeroDivisionError. To figure out which type of exception you are trying
to handle, you can type purposely wrong things into the interpreter
(such as 'hi' + 5 or 1 / 0) and see what kind of exception Python spits
out.</p>

<h3 class="question" id="q1">Question 1: No IndexErrors Allowed</h3>

<p>You have seen that indexing a list with an index that is not contained in the list
generates an IndexError exception. Use
exception handling in the function <code>avoid_indexerror</code> to return the value at <code>index</code> and avoid IndexErrors when the index is invalid.</p>



<pre><code>def avoid_indexerror(lst, index, missing=None):
    &quot;&quot;&quot;Return lst[index] if it exists, otherwise missing.

    &gt;&gt;&gt; avoid_indexerror([1,2,3], 1)
    2
    &gt;&gt;&gt; avoid_indexerror([1,2,3], 4)
    &gt;&gt;&gt; avoid_indexerror([1,2,3], 4, &quot;Index out of range.&quot;)
    &#x27;Index out of range.&#x27;
    &quot;&quot;&quot;
<div class="alt 1">    "*** YOUR CODE HERE ***"
</div><div class="solution 1">&#x20;&#x20;&#x20;&#x20;&#x74;&#x72;&#x79;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x6c;&#x73;&#x74;&#x5b;&#x69;&#x6e;&#x64;&#x65;&#x78;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x65;&#x78;&#x63;&#x65;&#x70;&#x74;&#x20;&#x49;&#x6e;&#x64;&#x65;&#x78;&#x45;&#x72;&#x72;&#x6f;&#x72;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x6d;&#x69;&#x73;&#x73;&#x69;&#x6e;&#x67;</div></code></pre>


    <button id='1' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python ok -q avoid_indexerror --local</code></pre>

<h3 class="question" id="q2">Question 2: No KeyErrors Allowed</h3>

<p>If we try to look up a key that does not exist in a dictionary, then
Python will raise a <code>KeyError</code>. Write the function <code>avoid_keyerror</code> which returns
returns the value mapped to <code>key</code> in the <code>dictionary</code>. If <code>key</code> does
not exist, print 'Avoid Exception' and map <code>key</code> to the string 'no value'.</p>



<pre><code>def avoid_keyerror(dictionary, key):
    &quot;&quot;&quot; Returns the value associated with key in dictionary. If key 
    does not exist in the dictionary, print out &#x27;Avoid Exception&#x27; and
    map it to the string &#x27;no value&#x27;.

    &gt;&gt;&gt; d = {1: &#x27;one&#x27;, 3: &#x27;three&#x27;, 5: &#x27;five&#x27;}
    &gt;&gt;&gt; avoid_keyerror(d, 3)
    &#x27;three&#x27;
    &gt;&gt;&gt; avoid_keyerror(d, 4)
    Avoid Exception
    &gt;&gt;&gt; d[4]
    &#x27;no value&#x27;
    &quot;&quot;&quot;
<div class="alt 2">    "*** YOUR CODE HERE ***"
</div><div class="solution 2">&#x20;&#x20;&#x20;&#x20;&#x74;&#x72;&#x79;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x64;&#x69;&#x63;&#x74;&#x69;&#x6f;&#x6e;&#x61;&#x72;&#x79;&#x5b;&#x6b;&#x65;&#x79;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x65;&#x78;&#x63;&#x65;&#x70;&#x74;&#x20;&#x4b;&#x65;&#x79;&#x45;&#x72;&#x72;&#x6f;&#x72;&#x20;&#x61;&#x73;&#x20;&#x65;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x70;&#x72;&#x69;&#x6e;&#x74;&#x28;&#x22;&#x41;&#x76;&#x6f;&#x69;&#x64;&#x20;&#x45;&#x78;&#x63;&#x65;&#x70;&#x74;&#x69;&#x6f;&#x6e;&#x22;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x64;&#x69;&#x63;&#x74;&#x69;&#x6f;&#x6e;&#x61;&#x72;&#x79;&#x5b;&#x6b;&#x65;&#x79;&#x5d;&#x20;&#x3d;&#x20;&#x27;&#x6e;&#x6f;&#x20;&#x76;&#x61;&#x6c;&#x75;&#x65;&#x27;</div></code></pre>


    <button id='2' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python ok -q avoid_keyerror --local</code></pre>


<h2 id="generators">Generators</h2>


<h3 class="question" id="q3">Question 3: Character generator</h3>

<p>Write a generator that outputs each character of a string.</p>



<pre><code>def char_gen(s):
    &quot;&quot;&quot;
    &gt;&gt;&gt; for char in char_gen(&quot;hello&quot;):
    ...     print(char)
    ...
    h
    e
    l
    l
    o
    &quot;&quot;&quot;
<div class="alt 3">    "*** YOUR CODE HERE ***"
</div><div class="solution 3">&#x20;&#x20;&#x20;&#x20;&#x66;&#x6f;&#x72;&#x20;&#x63;&#x68;&#x61;&#x72;&#x20;&#x69;&#x6e;&#x20;&#x73;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x79;&#x69;&#x65;&#x6c;&#x64;&#x20;&#x63;&#x68;&#x61;&#x72;</div></code></pre>


    <button id='3' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python ok -q char_gen --local</code></pre>

<h3 class="question" id="q4">Question 4: Countdown</h3>

<p>Write a generator that counts down to 0.</p>



<pre><code>def countdown(n):
    &quot;&quot;&quot;
    &gt;&gt;&gt; from types import GeneratorType
    &gt;&gt;&gt; type(countdown(0)) is GeneratorType # countdown is a generator
    True
    &gt;&gt;&gt; for number in countdown(5):
    ...     print(number)
    ...
    5
    4
    3
    2
    1
    0
    &quot;&quot;&quot;
<div class="alt 4">    "*** YOUR CODE HERE ***"
</div><div class="solution 4">&#x20;&#x20;&#x20;&#x20;&#x77;&#x68;&#x69;&#x6c;&#x65;&#x20;&#x6e;&#x20;&#x3e;&#x3d;&#x20;&#x30;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x79;&#x69;&#x65;&#x6c;&#x64;&#x20;&#x6e;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x6e;&#x20;&#x3d;&#x20;&#x6e;&#x20;&#x2d;&#x20;&#x31;</div></code></pre>


    <button id='4' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python ok -q countdown --local</code></pre>

<h3 class="question" id="q5">Question 5: Primes</h3>

<p>Write a generator that generates prime numbers.
Fill out the <code>is_prime</code> helper function and use that 
to create your generator.</p>



<pre><code>def is_prime(n):
    &quot;&quot;&quot;
    Return True if n is prime, false otherwise.

    &gt;&gt;&gt; is_prime(1)
    False
    &gt;&gt;&gt; is_prime(2)
    True
    &gt;&gt;&gt; is_prime(19)
    True
    &quot;&quot;&quot;
<div class="alt 5">    "*** YOUR CODE HERE ***"
</div><div class="solution 5">&#x20;&#x20;&#x20;&#x20;&#x69;&#x66;&#x20;&#x6e;&#x20;&#x3c;&#x20;&#x32;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x46;&#x61;&#x6c;&#x73;&#x65;&#xa;&#x20;&#x20;&#x20;&#x20;&#x63;&#x6f;&#x75;&#x6e;&#x74;&#x65;&#x72;&#x20;&#x3d;&#x20;&#x32;&#xa;&#x20;&#x20;&#x20;&#x20;&#x77;&#x68;&#x69;&#x6c;&#x65;&#x20;&#x63;&#x6f;&#x75;&#x6e;&#x74;&#x65;&#x72;&#x20;&#x3c;&#x3d;&#x20;&#x73;&#x71;&#x72;&#x74;&#x28;&#x6e;&#x29;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x69;&#x66;&#x20;&#x6e;&#x20;&#x25;&#x20;&#x63;&#x6f;&#x75;&#x6e;&#x74;&#x65;&#x72;&#x20;&#x3d;&#x3d;&#x20;&#x30;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x46;&#x61;&#x6c;&#x73;&#x65;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x63;&#x6f;&#x75;&#x6e;&#x74;&#x65;&#x72;&#x20;&#x2b;&#x3d;&#x20;&#x31;&#xa;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x54;&#x72;&#x75;&#x65;</div></code></pre>


    <button id='5' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    



<pre><code>def primes():
    &quot;&quot;&quot;
    An infinite generator that outputs primes. 

    &gt;&gt;&gt; p = primes()
    &gt;&gt;&gt; for i in range(3):
    ...     print(next(p))
    ...
    2
    3
    5
    &quot;&quot;&quot;
<div class="alt 6">    "*** YOUR CODE HERE ***"
</div><div class="solution 6">&#x20;&#x20;&#x20;&#x20;&#x6e;&#x75;&#x6d;&#x20;&#x3d;&#x20;&#x30;&#xa;&#x20;&#x20;&#x20;&#x20;&#x77;&#x68;&#x69;&#x6c;&#x65;&#x20;&#x54;&#x72;&#x75;&#x65;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x69;&#x66;&#x20;&#x69;&#x73;&#x5f;&#x70;&#x72;&#x69;&#x6d;&#x65;&#x28;&#x6e;&#x75;&#x6d;&#x29;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x79;&#x69;&#x65;&#x6c;&#x64;&#x20;&#x6e;&#x75;&#x6d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x6e;&#x75;&#x6d;&#x20;&#x2b;&#x3d;&#x20;&#x31;</div></code></pre>


    <button id='6' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python ok -q is_prime --local</code></pre>
<p>Use OK to test your code:</p><pre><code>python ok -q primes --local</code></pre>


<h2 id="sequences">Sequences</h2>


<h3 class="question" id="q6">Question 6: Count palindromes</h3>

<pre><code>def count_palindromes(L):
    &quot;&quot;&quot;The number of palindromic words in the sequence of strings
    L (ignoring case).

    &gt;&gt;&gt; count_palindromes((&quot;Acme&quot;, &quot;Madam&quot;, &quot;Pivot&quot;, &quot;Pip&quot;))
    2
    &quot;&quot;&quot;
    &quot;*** YOUR CODE HERE ***&quot;</code></pre>

<p><em>Hint</em>: The easiest way to get the reversed version of a string <code>s</code> is
to use the Python slicing notation trick <code>s[::&#x2d;1]</code>. Also, the function
<code>lower</code>, when called on strings, converts all of the characters in the
string to lowercase. For instance, if the variable <code>s</code> contains the
string "PyThoN", the expression <code>s.lower()</code> evaluates to "python".</p>

<p>Use OK to test your code:</p><pre><code>python ok -q count_palindromes --local</code></pre>


  </div>

  <div class='col-md-3'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="#exceptions">Exceptions</a></li>
  <ul>
  <li><a href="#q1">Question 1: No IndexErrors Allowed</a></li>
  <li><a href="#q2">Question 2: No KeyErrors Allowed</a></li>
</ul>

  <li><a href="#generators">Generators</a></li>
  <ul>
  <li><a href="#q3">Question 3: Character generator</a></li>
  <li><a href="#q4">Question 4: Countdown</a></li>
  <li><a href="#q5">Question 5: Primes</a></li>
</ul>

  <li><a href="#sequences">Sequences</a></li>
  <ul>
  <li><a href="#q6">Question 6: Count palindromes</a></li>
</ul>

</ul>

    </nav>
  </div>

</div>
    </div>
  </body>
  <script>
  $('.sidebar ul').addClass('nav nav-stacked');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });
</script>
<script src="//code.jquery.com/jquery-latest.js"></script>

</html>
